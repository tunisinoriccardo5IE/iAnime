{"ast":null,"code":"var _jsxFileName = \"/workspaces/iAnime/client/src/components/AnimeDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Community from './Community';\nimport MerchSuggestions from './MerchSuggestions';\nimport StreamingPlatforms from './StreamingPlatforms';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AnimeDetail() {\n  _s();\n  var _anime$images, _anime$images$jpg;\n  const {\n    id\n  } = useParams();\n  const [anime, setAnime] = useState(null);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    async function fetchAnime() {\n      setLoading(true);\n      try {\n        const res = await fetch(`https://api.jikan.moe/v4/anime/${id}/full`);\n        const data = await res.json();\n        setAnime(data.data);\n      } catch (e) {\n        setAnime(null);\n      }\n      setLoading(false);\n    }\n    fetchAnime();\n  }, [id]);\n\n  // Utility per paese da browser\n  function getCountry() {\n    if (navigator.languages && navigator.languages.length) {\n      return navigator.languages[0].split('-')[1] || 'US';\n    }\n    if (navigator.language) {\n      return navigator.language.split('-')[1] || 'US';\n    }\n    return 'US';\n  }\n\n  // Placeholder prodotti e-commerce\n  const products = [{\n    name: 'Action Figure',\n    img: 'https://via.placeholder.com/100',\n    url: '#'\n  }, {\n    name: 'Poster',\n    img: 'https://via.placeholder.com/100',\n    url: '#'\n  }, {\n    name: 'T-shirt',\n    img: 'https://via.placeholder.com/100',\n    url: '#'\n  }];\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center my-5\",\n    children: \"Caricamento...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 23\n  }, this);\n  if (!anime) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert alert-danger\",\n    children: \"Anime non trovato.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 22\n  }, this);\n\n  // Prepara piattaforme con link e filtro paese\n  let streamingPlatforms = (anime === null || anime === void 0 ? void 0 : anime.streaming) || [];\n  const country = getCountry();\n  // Esempio: se la piattaforma supporta country, filtra, altrimenti mostra tutte\n  // Jikan non fornisce country, quindi qui puoi personalizzare in futuro\n  // Per ora, mostra tutte ma con link\n  const platformsWithLinks = streamingPlatforms.map(s => ({\n    name: s.name,\n    url: s.url\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: (_anime$images = anime.images) === null || _anime$images === void 0 ? void 0 : (_anime$images$jpg = _anime$images.jpg) === null || _anime$images$jpg === void 0 ? void 0 : _anime$images$jpg.image_url,\n          alt: anime.title,\n          className: \"img-fluid rounded mb-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: anime.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: anime.synopsis\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StreamingPlatforms, {\n          platforms: platformsWithLinks\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Community\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Community, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Prodotti consigliati\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: products.map((prod, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-4 col-md-2 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: prod.url,\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: prod.img,\n            alt: prod.name,\n            className: \"img-thumbnail mb-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: prod.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(AnimeDetail, \"kH3sSSGPiUH/lmGQW+PGQthvAbY=\", false, function () {\n  return [useParams];\n});\n_c = AnimeDetail;\nexport default AnimeDetail;\nvar _c;\n$RefreshReg$(_c, \"AnimeDetail\");","map":{"version":3,"names":["React","useEffect","useState","Community","MerchSuggestions","StreamingPlatforms","useParams","jsxDEV","_jsxDEV","AnimeDetail","_s","_anime$images","_anime$images$jpg","id","anime","setAnime","loading","setLoading","fetchAnime","res","fetch","data","json","e","getCountry","navigator","languages","length","split","language","products","name","img","url","className","children","fileName","_jsxFileName","lineNumber","columnNumber","streamingPlatforms","streaming","country","platformsWithLinks","map","s","src","images","jpg","image_url","alt","title","synopsis","platforms","prod","idx","href","target","rel","_c","$RefreshReg$"],"sources":["/workspaces/iAnime/client/src/components/AnimeDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Community from './Community';\nimport MerchSuggestions from './MerchSuggestions';\nimport StreamingPlatforms from './StreamingPlatforms';\nimport { useParams } from 'react-router-dom';\n\nfunction AnimeDetail() {\n  const { id } = useParams();\n  const [anime, setAnime] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function fetchAnime() {\n      setLoading(true);\n      try {\n        const res = await fetch(`https://api.jikan.moe/v4/anime/${id}/full`);\n        const data = await res.json();\n        setAnime(data.data);\n      } catch (e) {\n        setAnime(null);\n      }\n      setLoading(false);\n    }\n    fetchAnime();\n  }, [id]);\n\n  // Utility per paese da browser\n  function getCountry() {\n    if (navigator.languages && navigator.languages.length) {\n      return navigator.languages[0].split('-')[1] || 'US';\n    }\n    if (navigator.language) {\n      return navigator.language.split('-')[1] || 'US';\n    }\n    return 'US';\n  }\n\n  // Placeholder prodotti e-commerce\n  const products = [\n    { name: 'Action Figure', img: 'https://via.placeholder.com/100', url: '#' },\n    { name: 'Poster', img: 'https://via.placeholder.com/100', url: '#' },\n    { name: 'T-shirt', img: 'https://via.placeholder.com/100', url: '#' },\n  ];\n\n  if (loading) return <div className=\"text-center my-5\">Caricamento...</div>;\n  if (!anime) return <div className=\"alert alert-danger\">Anime non trovato.</div>;\n\n  // Prepara piattaforme con link e filtro paese\n  let streamingPlatforms = anime?.streaming || [];\n  const country = getCountry();\n  // Esempio: se la piattaforma supporta country, filtra, altrimenti mostra tutte\n  // Jikan non fornisce country, quindi qui puoi personalizzare in futuro\n  // Per ora, mostra tutte ma con link\n  const platformsWithLinks = streamingPlatforms.map(s => ({\n    name: s.name,\n    url: s.url\n  }));\n\n  return (\n    <div className=\"container my-4\">\n      <div className=\"row\">\n        <div className=\"col-md-4\">\n          <img src={anime.images?.jpg?.image_url} alt={anime.title} className=\"img-fluid rounded mb-3\" />\n        </div>\n        <div className=\"col-md-8\">\n          <h2>{anime.title}</h2>\n          <p>{anime.synopsis}</p>\n          <StreamingPlatforms platforms={platformsWithLinks} />\n        </div>\n      </div>\n      <hr />\n      <h4>Community</h4>\n      <Community />\n      <hr />\n      <h4>Prodotti consigliati</h4>\n      <div className=\"row\">\n        {products.map((prod, idx) => (\n          <div className=\"col-4 col-md-2 text-center\" key={idx}>\n            <a href={prod.url} target=\"_blank\" rel=\"noopener noreferrer\">\n              <img src={prod.img} alt={prod.name} className=\"img-thumbnail mb-2\" />\n              <div>{prod.name}</div>\n            </a>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default AnimeDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}